<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hot Air Balloon Game</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: linear-gradient(skyblue, white);
    }
    #balloon {
      position: absolute;
      width: 80px;
      height: 80px;
      left: 100px;
      top: 200px;
      z-index: 10;
    }
    .obstacle {
      position: absolute;
      width: 80px;
      height: 80px;
      bottom: 0;
      animation: moveLeft 5s linear infinite;
    }
    @keyframes moveLeft {
      0% { left: 100%; }
      100% { left: -100px; }
    }
    .bg-scroll {
      position: absolute;
      width: 200%;
      height: 100%;
      background: repeating-linear-gradient(white, white 50px, lightgray 50px, lightgray 100px);
      animation: bgScroll 10s linear infinite;
      z-index: -1;
    }
    @keyframes bgScroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }
  </style>
</head>
<body>
  <div class="bg-scroll"></div>
  <img id="balloon" src="balloon.png" alt="balloon" />

  <script>
    const balloon = document.getElementById("balloon");
    let y = 200;

    let drag = false;
    window.addEventListener("mousedown", () => drag = true);
    window.addEventListener("mouseup", () => drag = false);
    window.addEventListener("mousemove", (e) => {
      if (drag) {
        y = e.clientY - 40;
        balloon.style.top = y + "px";
      }
    });

    function createObstacle() {
      const obs = document.createElement("img");
      obs.src = "obstacle.png";
      obs.classList.add("obstacle");
      obs.style.left = "100%";
      obs.style.bottom = Math.random() * 400 + "px";
      document.body.appendChild(obs);

      const fall = setInterval(() => {
        const balloonRect = balloon.getBoundingClientRect();
        const obsRect = obs.getBoundingClientRect();
        const margin = 20; // Collision box –±–∞–≥–∞—Å–≥–∞—Å–∞–Ω

        if (
          balloonRect.left + margin < obsRect.right - margin &&
          balloonRect.right - margin > obsRect.left + margin &&
          balloonRect.top + margin < obsRect.bottom - margin &&
          balloonRect.bottom - margin > obsRect.top + margin
        ) {
          alert("üí• Game Over!");
          clearInterval(fall);
          obs.remove();
        }

        if (obs.getBoundingClientRect().left < -100) {
          clearInterval(fall);
          obs.remove();
        }
      }, 30);
    }

    setInterval(createObstacle, 2000);
  </script>
</body>
</html>
